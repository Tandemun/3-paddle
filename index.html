<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3-Paddle Polarization Controller</title>
  <script src="https://www.geogebra.org/apps/deployggb.js"></script>
  <style>
  #applet-container {
    display: flex;
    gap: 20px; /* отступ между апплетами */
    justify-content: center; /* по центру экрана */
    align-items: flex-start; /* выравнивание по верхнему краю */
  }

  #ggbApplet1, #ggbApplet2 {
    border: 1px solid #ccc; /* необязательно — просто для наглядности */
  }
</style>
</head>
<body>

<div id="applet-container">
  <div id="ggbApplet1"></div>
  <div id="ggbApplet2"></div>
</div>
  
<script>

function ggbOnInit(param) {
	if (param == "ggbApplet1") {
		// init update listeners for ggbApplet1
		ggbApplet1.registerObjectUpdateListener("α", "abcListener");
		ggbApplet1.registerObjectUpdateListener("β", "abcListener");
		ggbApplet1.registerObjectUpdateListener("γ", "abcListener");
	}
}
 
function abcListener(objName) {
      // get value from applet1 and set value in applet2	
	console.log("Updated: ", objName);
	var changedValue = ggbApplet1.getValue(objName);
	console.log("Value: ", changedValue);
	ggbApplet2.setValue(objName, changedValue);		
}
var params1 = {
"id": "ggbApplet1",
"width":800,
"height":800,
"showMenuBar":false,
"showAlgebraInput":false,
"showToolBar":false,
"showToolBarHelp":false,
"showResetIcon":false,
"enableLabelDrags":false,
"enableShiftDragZoom":false,
"enableRightClick":false,
"errorDialogsActive":false,
"useBrowserForJS":true,
"allowStyleBar":false,
"preventFocus":false,
"showZoomButtons":false,
"showResetIcon": true,
"capturingThreshold":3,
// add code here to run when the applet starts
"appletOnLoad":function(api){ /* api.evalCommand('Segment((1,2),(3,4))');*/ },
"showFullscreenButton":true,
"scale":1,
"disableAutoScale":true,
"allowUpscale":false,
"clickToLoad":false,
"appName":"classic",
"buttonRounding":0.7,
"buttonShadows":false,
"language":"en",
// use this instead of ggbBase64 to load a material from geogebra.org
"material_id":"pts6vg4r",
// use this instead of ggbBase64 to load a .ggb file
// "filename":"myfile.ggb",

};

var params2 = {
"id": "ggbApplet2",
"width":600,
"height":800,
"showMenuBar":false,
"showAlgebraInput":false,
"showToolBar":false,
"showToolBarHelp":false,
"showResetIcon":false,
"enableLabelDrags":false,
"enableShiftDragZoom":false,
"enableRightClick":false,
"errorDialogsActive":false,
"useBrowserForJS":true,
"allowStyleBar":false,
"preventFocus":false,
"showZoomButtons":false,
"showResetIcon": true,
"capturingThreshold":3,
// add code here to run when the applet starts
"appletOnLoad":function(api){ /* api.evalCommand('Segment((1,2),(3,4))');*/ },
"showFullscreenButton":true,
"scale":1,
"disableAutoScale":true,
"allowUpscale":false,
"clickToLoad":false,
"appName":"classic",
"buttonRounding":0.7,
"buttonShadows":false,
"language":"en",
// use this instead of ggbBase64 to load a material from geogebra.org
"material_id":"hdmsanwn",
};
  
  var applet1 = new GGBApplet(params1, true);
  var applet2 = new GGBApplet(params2, true);
  window.onload = function() {
	  applet1.inject('ggbApplet1');
	  applet2.inject('ggbApplet2');
};
</script>

</body>
</html>
